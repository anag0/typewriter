class TypeWriter{#defaults={pauseMin:170,pauseMax:230,keepBlinking:!0,className:"typewriter",cursor:"|",injectStyles:!1};#params;#node;#tasks=[];#executing=!1;constructor(a,b){this.#node=a,this.#params={...this.#defaults,...b},this.#params.injectStyles&&this.#injectStyles(),this.#node.classList.add(this.#params.className),this.#node.dataset.cursor=this.#params.cursor}write(a){let b=this;return[...a].forEach(a=>{b.#tasks.push({type:"write",char:a})}),this.#start(),this}delete(a=1){for(let b=0;b<a;b++)this.#tasks.push({type:"delete",all:!1});return this.#start(),this}wait(a=1e3){return this.#tasks.push({type:"wait",t:a}),this.#start(),this}wipe(){return this.#tasks.push({type:"delete",all:!0}),this.#start(),this}config(a){return this.#tasks.push({type:"config",params:a}),this}#injectStyles(){const a=`
        .${this.#params.className}:not(.noblink)::after {
            content: attr(data-cursor);
            animation: blink 1s linear infinite;
        }
        
        @keyframes blink {
            0% {
                opacity: 0;
            }
            50% {
                opacity: 0;
            }
            51% {
                opacity: 1;
            }
        }`,b=document.createElement("style");b.textContent=a,document.head.append(b)}#start(){this.#executing||this.#execute()}#execute(){if(0<this.#tasks.length){this.#executing=!0;const a=this.#tasks.shift();let b=this.#randomInt(this.#params.pauseMin,this.#params.pauseMax);"write"==a.type?setTimeout(()=>{this.#add(a.char),this.#execute()},b):"delete"==a.type?setTimeout(()=>{this.#remove(a.all),this.#execute()},b):"wait"==a.type?setTimeout(()=>{this.#execute()},a.t):"config"==a.type&&(this.#params={...this.#params,...a.params},this.#execute())}else this.#executing=!1,this.#finish()}#add(a){this.#node.innerHTML+=a}#remove(a=!1){this.#node.innerHTML=a?"":this.#node.innerHTML.substring(0,this.#node.innerHTML.length-1)}#finish(){this.#params.keepBlinking||this.#node.classList.add("noblink")}#randomInt=(a,b)=>Math.random()*(b-a)+a}